/**
 * Update mutation hook for MembershipsModule
 * @generated by @constructive-io/graphql-codegen
 * DO NOT EDIT - changes will be overwritten
 */
import {
  useMutation,
  useQueryClient,
  type UseMutationOptions,
} from '@tanstack/react-query';
import { execute } from '../client';
import { type MembershipsModule } from '../types';

// Re-export entity type for convenience
export type { MembershipsModule };

// ============================================================================
// GraphQL Document
// ============================================================================
export const updateMembershipsModuleMutationDocument = `
mutation UpdateMembershipsModuleMutation($input: UpdateMembershipsModuleInput!) {
  updateMembershipsModule(input: $input) {
    membershipsModule {
      id
      databaseId
      schemaId
      privateSchemaId
      membershipsTableId
      membershipsTableName
      membersTableId
      membersTableName
      membershipDefaultsTableId
      membershipDefaultsTableName
      grantsTableId
      grantsTableName
      actorTableId
      limitsTableId
      defaultLimitsTableId
      permissionsTableId
      defaultPermissionsTableId
      sprtTableId
      adminGrantsTableId
      adminGrantsTableName
      ownerGrantsTableId
      ownerGrantsTableName
      membershipType
      entityTableId
      entityTableOwnerId
      prefix
      actorMaskCheck
      actorPermCheck
      entityIdsByMask
      entityIdsByPerm
      entityIdsFunction
      defaultIsApproved
      defaultIsVerified
    }
  }
}
`;

// ============================================================================
// Types
// ============================================================================
/** Patch type for updating a MembershipsModule - all fields optional */
interface MembershipsModulePatch {
  databaseId?: string | null;
  schemaId?: string | null;
  privateSchemaId?: string | null;
  membershipsTableId?: string | null;
  membershipsTableName?: string | null;
  membersTableId?: string | null;
  membersTableName?: string | null;
  membershipDefaultsTableId?: string | null;
  membershipDefaultsTableName?: string | null;
  grantsTableId?: string | null;
  grantsTableName?: string | null;
  actorTableId?: string | null;
  limitsTableId?: string | null;
  defaultLimitsTableId?: string | null;
  permissionsTableId?: string | null;
  defaultPermissionsTableId?: string | null;
  sprtTableId?: string | null;
  adminGrantsTableId?: string | null;
  adminGrantsTableName?: string | null;
  ownerGrantsTableId?: string | null;
  ownerGrantsTableName?: string | null;
  membershipType?: number | null;
  entityTableId?: string | null;
  entityTableOwnerId?: string | null;
  prefix?: string | null;
  actorMaskCheck?: string | null;
  actorPermCheck?: string | null;
  entityIdsByMask?: string | null;
  entityIdsByPerm?: string | null;
  entityIdsFunction?: string | null;
  defaultIsApproved?: boolean | null;
  defaultIsVerified?: boolean | null;
}

export interface UpdateMembershipsModuleMutationVariables {
  input: {
    id: string;
    patch: MembershipsModulePatch;
  };
}

export interface UpdateMembershipsModuleMutationResult {
  updateMembershipsModule: {
    membershipsModule: MembershipsModule;
  };
}

// ============================================================================
// Hook
// ============================================================================
/**
 * Mutation hook for updating a MembershipsModule
 *
 * @example
 * ```tsx
 * const { mutate, isPending } = useUpdateMembershipsModuleMutation();
 *
 * mutate({
 *   input: {
 *     id: 'value-here',
 *     patch: {
 *       // ... fields to update
 *     },
 *   },
 * });
 * ```
 */
export function useUpdateMembershipsModuleMutation(
  options?: Omit<
    UseMutationOptions<
      UpdateMembershipsModuleMutationResult,
      Error,
      UpdateMembershipsModuleMutationVariables
    >,
    'mutationFn'
  >
) {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: (variables: UpdateMembershipsModuleMutationVariables) =>
      execute<
        UpdateMembershipsModuleMutationResult,
        UpdateMembershipsModuleMutationVariables
      >(updateMembershipsModuleMutationDocument, variables),
    onSuccess: (_, variables) => {
      // Invalidate specific item and list queries
      queryClient.invalidateQueries({
        queryKey: ['membershipsmodule', 'detail', variables.input.id],
      });
      queryClient.invalidateQueries({
        queryKey: ['membershipsmodule', 'list'],
      });
    },
    ...options,
  });
}
